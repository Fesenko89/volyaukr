const translations = {
    uk: {
        pageTitle: "ВОЛЯ — Гра про душу нації",
        siteTitle: "ВОЛЯ",
        heroSubtitle: "Одна душа. Один народ. <br />Історія України крізь очі її воїнів.<br/>Епічна Action-Adventure гра.",
        aboutHeading: "Про проєкт: Відродження Історії через Інновації",
        aboutText1: "<span class=\"highlight\" data-translate=\"volyaHighlight1\">ВОЛЯ</span> — це амбітний 3D Action-Adventure проєкт, що має на меті створити безпрецедентний рівень занурення в тисячолітню історію боротьби українського народу за свою свободу. Це не просто гра, це емоційна сага про нерозривний зв'язок поколінь, де гравець перевтілюється у ключових предків головного героя — сучасного українського воїна.",
        aboutText2: "Ми прагнемо не просто розважити, а й запропонувати глибокий, освітній та емоційно насичений досвід, де кожен вибір має значення, а історія оживає завдяки передовим технологіям.",
        featuresHeading: "Ключові Особливості та Технологічні Виклики",
        feature1Title: "<span class=\"highlight\" data-translate=\"feature1Highlight\">Революційні ШІ-Діалоги:</span>",
        feature1Text: "Наша головна інновація — це інтеграція передової системи діалогів на основі штучного інтелекту. Це дозволить гравцям вести **глибокі та динамічні діалоги з ключовими персонажами**, використовуючи природну мову, що значно розширює можливості взаємодії. Технологічний виклик полягає у забезпеченні контекстуальної точності, низької затримки, керування особистістю NPC та масштабування для великого ігрового світу.",
        feature2Title: "<span class=\"highlight\" data-translate=\"feature2Highlight\">Механіка \"Волі\":</span>",
        feature2Text: "Ключова особливість, що відображає внутрішню силу та незламність духу героїв. \"Воля\" накопичується через ваші рішення, впливає на дипломатію та діалоги, і має прямий вплив на фінал гри. Ця механіка тісно переплітається з ШІ-діалогами, дозволяючи вам відчути реальні наслідки своїх слів та дій.",
        feature3Title: "<span class=\"highlight\" data-translate=\"feature3Highlight\">Епічний Масштаб Історії:</span>",
        feature3Text: "Проєкт охоплює **багато годин захопливого геймплею** крізь <span class=\"highlight\" data-translate=\"feature3HighlightSpan\">сім докорінно різних історичних епох</span> України. Від первісних часів до сучасності, кожен період пропонує унікальні виклики та можливості, забезпечуючи глибоке вивчення історії та культури.",
        feature4Title: "<span class=\"highlight\" data-translate=\"feature4Highlight\">Еволюція Геймплею:</span>",
        feature4Text: "Кожна епоха представляє нові геймплейні механіки: від мирного будівництва та виживання, через складну бойову систему та стратегічне планування, до стелсу та глибокої дипломатії. Це створює постійну динаміку та тримає гравця у напрузі, адаптуючись до історичних реалій.",
        feature5Title: "<span class=\"highlight\" data-translate=\"feature5Highlight\">Моральні Вибори та Наслідки:</span>",
        feature5Text: "Гравцю доведеться робити важкі моральні вибори, які впливатимуть на розвиток сюжету, долю персонажів та, що найважливіше, на рівень \"Волі\" — ключової внутрішньої сили, яка веде до доленосного фіналу.",
        heroesHeading: "Наші Герої: Від Предків до Нащадків",
        heroOlesDescription: "Олесь (\"Козак\") — сучасний воїн, що несе на собі тисячоліття боротьби за Волю.",
        learnMoreOles: "Дізнатися більше про Олеся",
        heroZoryanaDescription: "Зоряна — трипілька, чиє серце вперше відчуло невідомий поклик Волі, що з'єднав покоління.",
        learnMoreZoryana: "Дізнатися більше про Зоряну",
        heroArgisDescription: "Аргіс — скіфський воїн, що втілює дух свободи та безмежного степу.",
        learnMoreArgis: "Дізнатися більше про Аргіса",
        heroRadymDescription: "Радим — слов'янський гончар-дипломат, що згуртував народ у боротьбі з кочовиками.",
        learnMoreRadym: "Дізнатися більше про Радима",
        heroVolodymyrDescription: "Володимир — воїн Київської Русі, що стояв на захисті хрещеної землі та нової віри.",
        learnMoreVolodymyr: "Дізнатися більше про Володимира",
        heroMyroslavDescription: "Мирослав — воїн-дипломат Київської Русі, що об'єднував князів перед лицем спільної загрози.",
        learnMoreMyroslav: "Дізнатися більше про Мирослава",
        heroSviatoslavDescription: "Святослав — непереможний богатир, що уособлював незламний дух Русі перед монгольською навалою.",
        learnMoreSviatoslav: "Дізнатися більше про Святослава",
        heroIvanDescription: "Іван — звичайний козак доби Сагайдачного, втілення незламної волі до свободи.",
        learnMoreIvan: "Дізнатися більше про Івана",
        heroOrestDescription: "Орест — мудрий полковник-розвідник, що боровся за єдність України під час Руїни.",
        learnMoreOrest: "Дізнатися більше про Ореста",
        heroKalynaDescription: "Калина — простий повстанець УПА, втілення вікової, незламної Волі українського народу.",
        learnMoreKalyna: "Дізнатися більше про Калину",
        heroesSummary: "Кожен герой — це пращур Олеся, втілення унікального аспекту \"Волі\" та носій автентичних геймплейних механік. Через їхні долі гравець переживе багатовікову історію незламного духу українського народу.",
        erasHeading: "Епохи \"ВОЛІ\": Подорож Крізь Тисячоліття",
        erasIntro: "Зануртесь у сім докорінно різних, але взаємопов'язаних епох української історії. Кожна доба — це цілісний ігровий світ зі своїми унікальними викликами, персонажами та можливостями.",
        trypillianEraDescription: "Трипільське поселення: Зародження цивілізації, гармонія з природою та перші прояви єдності.",
        scythianEraDescription: "Скіфська Доба: Свобода безкрайніх степів, виживання та формування духу незалежності.",
        slavicEraDescription: "Давні Слов'яни: Племінне життя, пошук єдності та протистояння першим викликам, що формує волю до самовизначення. Тут ключова роль належить мудрості та дипломатії.",
        kievanRusEraDescription: "Київська Русь: Епоха державотворення, лицарства, захисту кордонів та запеклої боротьби за віру та ідентичність.",
        cossackEraDescription: "Козацька Доба: Час героїзму, боротьби за волю та зради, що визначила подальший шлях нації.",
        xxCenturyEraDescription: "XX століття (Визвольна Боротьба): Період відчайдушного опору та незламної волі до свободи у найжорстокіших умовах.",
        modernEraDescription: "Сучасність: Кульмінація боротьби, де дух усіх предків об'єднається для вирішального протистояння.",
        erasSummary: "Кожна епоха є важливою главою у великій сазі \"ВОЛІ\", де минуле формує сьогодення, а дії кожного предка відгукуються у фінальному протистоянні.",
        mechanicsHeading: "Механіка \"Волі\" та Дипломатія",
        mechanicsIntro: "Ключовою особливістю гри є механіка <span class=\"highlight\" data-translate=\"volyaHighlight2\">\"Волі\"</span> — це інтегрована частина геймплею, що відображає внутрішню силу, рішучість та незламність духу героїв, впливаючи на сюжет та взаємодії.",
        mechanicsPoint1: "**Вплив на Діалоги:** Накопичена \"Воля\" може розблоковувати унікальні діалогові опції, дозволяючи переконувати NPC, змінювати їхнє ставлення та впливати на хід подій.",
        mechanicsPoint2: "**Дипломатична Перевага:** \"Воля\" надає перевагу в переговорах, допомагає знаходити компроміси та мирні вирішення конфліктів, що є критично важливим для багатьох історичних сценаріїв.",
        mechanicsPoint3: "**Кульмінація Сюжету:** Рівень накопиченої \"Волі\" протягом усіх епох безпосередньо вплине на фінал гри, дозволяючи Олесю закликати духовних провідників та мудреців з минулого для вирішального протистояння.",
        teamHeading: "Наша Команда: Створюючи Майбутнє Ігор",
        teamText1: "Ми — команда інноваторів та ентузіастів, об'єднаних спільною мрією: створити гру, яка не лише розважатиме, а й змінить уявлення про наративні ігри, розповівши світові про незламний дух та багатовікову історію України.",
        teamText2: "Наразі ми активно шукаємо талановитих фахівців, що готові прийняти виклик розробки гри з проривними ШІ-технологіями та глибоким змістом. Якщо ви маєте пристрасть до ігор, історії, інновацій та вірите у силу українського духу, ми запрошуємо вас приєднатися до створення чогось справді великого!",
        ctaHeading: "Стань частиною \"ВОЛІ\"!",
        ctaText: "Приєднуйся до команди розробників, ШІ-спеціалістів, художників, сценаристів, істориків чи інвесторів. Разом ми створимо гру, що назавжди закарбує ім'я України в ігровій індустрії та встановить нові стандарти занурення.",
        ctaButton: "Переглянути Вакансії",
        ctaOrContact: "або зв'яжіться з нами напряму:",
        footerText: "&copy; 2025 Проєкт \"ВОЛЯ\". Всі права захищені."
    },
    en: {
        pageTitle: "VOLYA — A Game About the Nation's Soul",
        siteTitle: "VOLYA",
        heroSubtitle: "One soul. One nation. <br />The history of Ukraine through the eyes of its warriors.<br/>An epic Action-Adventure game.",
        aboutHeading: "About the Project: Reviving History through Innovation",
        aboutText1: "<span class=\"highlight\" data-translate=\"volyaHighlight1\">VOLYA</span> is an ambitious 3D Action-Adventure project aiming to create an unprecedented level of immersion into the thousand-year history of the Ukrainian people's struggle for freedom. This is not just a game; it's an emotional saga about the unbreakable bond between generations, where the player transforms into key ancestors of the main character — a modern Ukrainian warrior.",
        aboutText2: "We strive not only to entertain but also to offer a deep, educational, and emotionally rich experience where every choice matters, and history comes alive through cutting-edge technologies.",
        featuresHeading: "Key Features and Technological Challenges",
        feature1Title: "<span class=\"highlight\" data-translate=\"feature1Highlight\">Revolutionary AI Dialogues:</span>",
        feature1Text: "Our main innovation is the integration of an advanced AI-powered dialogue system. This will allow players to engage in **deep and dynamic dialogues with key characters**, using natural language, significantly expanding interaction possibilities. The technological challenge lies in ensuring contextual accuracy, low latency, NPC personality management, and scalability for a large game world.",
        feature2Title: "<span class=\"highlight\" data-translate=\"feature2Highlight\">\"Volya\" Mechanics:</span>",
        feature2Text: "A key feature reflecting the inner strength and unbreakable spirit of the heroes. \"Volya\" accumulates through your decisions, influences diplomacy and dialogues, and has a direct impact on the game's finale. This mechanic is closely intertwined with AI dialogues, allowing you to feel the real consequences of your words and actions.",
        feature3Title: "<span class=\"highlight\" data-translate=\"feature3Highlight\">Epic Scale of History:</span>",
        feature3Text: "The project covers **many hours of thrilling gameplay** across <span class=\"highlight\" data-translate=\"feature3HighlightSpan\">seven fundamentally different historical eras</span> of Ukraine. From prehistoric times to the present, each period offers unique challenges and opportunities, ensuring a deep exploration of history and culture.",
        feature4Title: "<span class=\"highlight\" data-translate=\"feature4Highlight\">Evolution of Gameplay:</span>",
        feature4Text: "Each era introduces new gameplay mechanics: from peaceful construction and survival, through complex combat systems and strategic planning, to stealth and deep diplomacy. This creates constant dynamism and keeps the player engaged, adapting to historical realities.",
        feature5Title: "<span class=\"highlight\" data-translate=\"feature5Highlight\">Moral Choices and Consequences:</span>",
        feature5Text: "The player will face difficult moral choices that will affect the plot's development, the characters' fates, and most importantly, the level of \"Volya\" — the key inner strength that leads to the fateful finale.",
        heroesHeading: "Our Heroes: From Ancestors to Descendants",
        heroOlesDescription: "Oles (\"Kozak\") — a modern warrior who carries the millennium-long struggle for Volya.",
        learnMoreOles: "Learn more about Oles",
        heroZoryanaDescription: "Zoryana — a Trypillian whose heart first felt the unknown call of Volya, connecting generations.",
        learnMoreZoryana: "Learn more about Zoryana",
        heroArgisDescription: "Argis — a Scythian warrior embodying the spirit of freedom and the boundless steppe.",
        learnMoreArgis: "Learn more about Argis",
        heroRadymDescription: "Radym — a Slavic potter-diplomat who united the people in the fight against nomads.",
        learnMoreRadym: "Learn more about Radym",
        heroVolodymyrDescription: "Volodymyr — a warrior of Kyivan Rus', who defended the baptized land and the new faith.",
        learnMoreVolodymyr: "Learn more about Volodymyr",
        heroMyroslavDescription: "Myroslav — a warrior-diplomat of Kyivan Rus', who united princes in the face of a common threat.",
        learnMoreMyroslav: "Learn more about Myroslav",
        heroSviatoslavDescription: "Sviatoslav — an invincible bogatyr who personified the unbreakable spirit of Rus' against the Mongol invasion.",
        learnMoreSviatoslav: "Learn more about Sviatoslav",
        heroIvanDescription: "Ivan — an ordinary Cossack of the Sagaidachny era, embodying the unbreakable will for freedom.",
        learnMoreIvan: "Learn more about Ivan",
        heroOrestDescription: "Orest — a wise colonel-scout who fought for the unity of Ukraine during the Ruin.",
        learnMoreOrest: "Learn more about Orest",
        heroKalynaDescription: "Kalyna — a simple UPA insurgent, the embodiment of the age-old, unbreakable Will of the Ukrainian people.",
        learnMoreKalyna: "Learn more about Kalyna",
        heroesSummary: "Each hero is an ancestor of Oles, an embodiment of a unique aspect of \"Volya\", and a bearer of authentic gameplay mechanics. Through their fates, the player will experience the centuries-old history of the unbreakable spirit of the Ukrainian people.",
        erasHeading: "Eras of \"VOLYA\": A Journey Through Millennia",
        erasIntro: "Immerse yourself in seven fundamentally different, yet interconnected, eras of Ukrainian history. Each period is a complete game world with its unique challenges, characters, and opportunities.",
        trypillianEraDescription: "Trypillian Settlement: The dawn of civilization, harmony with nature, and the first manifestations of unity.",
        scythianEraDescription: "Scythian Era: Freedom of the boundless steppes, survival, and the formation of the spirit of independence.",
        slavicEraDescription: "Ancient Slavs: Tribal life, the search for unity, and confronting the first challenges that shaped the will for self-determination. Wisdom and diplomacy play a key role here.",
        kievanRusEraDescription: "Kyivan Rus': The era of state-building, chivalry, border defense, and fierce struggle for faith and identity.",
        cossackEraDescription: "Cossack Era: A time of heroism, struggle for freedom, and betrayal that determined the nation's future path.",
        xxCenturyEraDescription: "20th Century (Liberation Struggle): A period of desperate resistance and unbreakable will for freedom under the harshest conditions.",
        modernEraDescription: "Modernity: The culmination of the struggle, where the spirit of all ancestors unites for the decisive confrontation.",
        erasSummary: "Each era is an important chapter in the great saga of \"VOLYA\", where the past shapes the present, and the actions of each ancestor resonate in the final confrontation.",
        mechanicsHeading: "\"Volya\" Mechanics and Diplomacy",
        mechanicsIntro: "A key feature of the game is the <span class=\"highlight\" data-translate=\"volyaHighlight2\">\"Volya\"</span> mechanic — an integrated part of the gameplay that reflects the inner strength, determination, and unbreakable spirit of the heroes, influencing the plot and interactions.",
        mechanicsPoint1: "**Impact on Dialogues:** Accumulated \"Volya\" can unlock unique dialogue options, allowing you to persuade NPCs, change their attitudes, and influence the course of events.",
        mechanicsPoint2: "**Diplomatic Advantage:** \"Volya\" provides an advantage in negotiations, helping to find compromises and peaceful resolutions to conflicts, which is critical for many historical scenarios.",
        mechanicsPoint3: "**Climax of the Plot:** The level of accumulated \"Volya\" throughout all eras will directly influence the game's finale, allowing Oles to summon spiritual leaders and wise men from the past for the decisive confrontation.",
        teamHeading: "Our Team: Creating the Future of Games",
        teamText1: "We are a team of innovators and enthusiasts united by a common dream: to create a game that will not only entertain but also redefine narrative games, telling the world about the unbreakable spirit and centuries-old history of Ukraine.",
        teamText2: "We are currently actively seeking talented professionals ready to take on the challenge of developing a game with groundbreaking AI technologies and deep meaning. If you have a passion for games, history, innovation, and believe in the strength of the Ukrainian spirit, we invite you to join us in creating something truly great!",
        ctaHeading: "Become Part of \"VOLYA\"!",
        ctaText: "Join our team of developers, AI specialists, artists, scriptwriters, historians, or investors. Together, we will create a game that will forever etch Ukraine's name in the gaming industry and set new standards for immersion.",
        ctaButton: "View Vacancies",
        ctaOrContact: "or contact us directly:",
        footerText: "&copy; 2025 Project \"VOLYA\". All rights reserved."
    }
};

function applyTranslations(lang) {
    document.documentElement.lang = lang; // Set the HTML lang attribute

    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            // Check if the key corresponds to a highlight span within the main text
            // If it does, update the innerHTML to preserve the span and its class
            if (key.includes('Highlight') || key.includes('HighlightSpan')) {
                 element.innerHTML = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
           
        }
    });

    // Handle special cases for text that contains HTML (like <br /> or <span class="highlight">)
    // For heroSubtitle (header p)
    const heroSubtitleElement = document.querySelector('header p[data-translate="heroSubtitle"]');
    if (heroSubtitleElement && translations[lang] && translations[lang].heroSubtitle) {
        heroSubtitleElement.innerHTML = translations[lang].heroSubtitle;
    }

    // For aboutText1 (contains highlight span)
    const aboutText1Element = document.querySelector('p[data-translate="aboutText1"]');
    if (aboutText1Element && translations[lang] && translations[lang].aboutText1) {
        aboutText1Element.innerHTML = translations[lang].aboutText1;
    }

    // For mechanicsIntro (contains highlight span)
    const mechanicsIntroElement = document.querySelector('p[data-translate="mechanicsIntro"]');
    if (mechanicsIntroElement && translations[lang] && translations[lang].mechanicsIntro) {
        mechanicsIntroElement.innerHTML = translations[lang].mechanicsIntro;
    }

    // For feature point 1 text (contains **strong** tags)
    const feature1TextElement = document.querySelector('p[data-translate="feature1Text"]');
    if (feature1TextElement && translations[lang] && translations[lang].feature1Text) {
        feature1TextElement.innerHTML = translations[lang].feature1Text;
    }

    // For feature point 2 text (contains "Volya" in quotes)
    const feature2TextElement = document.querySelector('p[data-translate="feature2Text"]');
    if (feature2TextElement && translations[lang] && translations[lang].feature2Text) {
        feature2TextElement.innerHTML = translations[lang].feature2Text;
    }

    // For feature point 3 text (contains highlight span and **strong** tags)
    const feature3TextElement = document.querySelector('p[data-translate="feature3Text"]');
    if (feature3TextElement && translations[lang] && translations[lang].feature3Text) {
        feature3TextElement.innerHTML = translations[lang].feature3Text;
    }

    // For list items with bolded text (mechanicsPoint1, 2, 3)
    document.querySelectorAll('#volya-mechanics ul li[data-translate]').forEach(li => {
        const key = li.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            li.innerHTML = translations[lang][key]; // Use innerHTML to preserve bold tags
        }
    });


    // Update active button state
    document.querySelectorAll('.language-switcher button').forEach(button => {
        if (button.dataset.lang === lang) {
            button.classList.add('active');
        } else {
            button.classList.remove('active');
        }
    });

    localStorage.setItem('selectedLanguage', lang);
}

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.language-switcher button').forEach(button => {
        button.addEventListener('click', () => {
            applyTranslations(button.dataset.lang);
        });
    });

    const savedLanguage = localStorage.getItem('selectedLanguage') || 'uk';
    applyTranslations(savedLanguage);
});
