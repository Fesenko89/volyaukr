const translations = {
    uk: {
        pageTitle: "ВОЛЯ — Епічна Історична Гра",
        mainHeading: "ВОЛЯ",
        heroSubtitle: "Одна душа. Один народ. <br />Історія України крізь очі її воїнів.<br/>Епічна Action-Adventure гра.",
        linkToRoadmapMainPage: "Переглянути Дорожню Карту",
        aboutHeading: "Проєкт \"ВОЛЯ\": Епічна Сага, що Розвивається",
        aboutText1: "ВОЛЯ — це амбітний 3D Action-Adventure проєкт, що запрошує вас пережити тисячоліття боротьби українського народу за свою свободу. Це не просто гра, це емоційна сага про нерозривний зв'язок поколінь, де гравець перевтілюється у ключових предків головного героя — сучасного українського воїна.",
        aboutText2: "Ми створюємо \"ВОЛЮ\" за **модульним принципом**, що дозволяє нам постійно розвивати гру, розширювати її світи та додавати унікальні механіки, спираючись на ваші відгуки. Наша мета — запропонувати глибокий, освітній та емоційно насичений досвід, де кожен вибір має значення, а історія оживає завдяки передовим технологіям.",
        volyaHighlight1: "ВОЛЯ", // Для тексту всередині highlight спану
        featuresHeading: "Ключові Особливості та Інновації",
        feature1Title: "Революційні ШІ-Діалоги:",
        feature1Highlight: "Революційні ШІ-Діалоги:",
        feature1Text: "Наша головна інновація — це інтеграція передової системи діалогів на основі штучного інтелекту. Це дозволить гравцям вести **глибокі та динамічні діалоги з ключовими персонажами**, використовуючи природну мову, що значно розширює можливості взаємодії. Ми впроваджуємо цю механіку **поступово**, дозволяючи вам відчути її еволюцію разом з грою.",
        feature2Title: "Механіка \"Волі\":",
        feature2Highlight: "Механіка \"Волі\":",
        feature2Text: "Ключова особливість, що відображає внутрішню силу та незламність духу героїв. \"Воля\" накопичується через ваші рішення, впливає на дипломатію та діалоги, і має прямий вплив на фінал гри. Ця механіка тісно переплітається з ШІ-діалогами, дозволяючи вам відчути **реальні наслідки своїх слів та дій**.",
        feature3Title: "Динамічний Канон та Розвиток:",
        feature3Highlight: "Динамічний Канон та Розвиток:",
        feature3Text: "Ми віримо у **\"живий канон\"**: гра буде постійно оновлюватися та вдосконалюватися. Ваші улюблені персонажі можуть розвиватися, а сюжетні лінії – поглиблюватися чи навіть переосмислюватися, щоб забезпечити максимально захопливий та історично-відчутний досвід. Кожна нова версія гри, яку ми випустимо, буде вважатися канонічною.",
        finalVersionCanonicalHighlight: "Кожна нова версія гри, яку ми випустимо, буде вважатися канонічною.",
        feature4Title: "Еволюція Геймплею:",
        feature4Highlight: "Еволюція Геймплею:",
        feature4Text: "Кожен модуль представлятиме нові геймплейні механіки: від мирного будівництва та виживання, через складну бойову систему та стратегічне планування, до стелсу, глибокої дипломатії та інтенсивного сучасного екшену. Це створює постійну динаміку та тримає гравця у напрузі, адаптуючись до історичних реалій.",
        feature5Title: "Багаторівневі Моральні Вибори та Наслідки:",
        feature5Highlight: "Багаторівневі Моральні Вибори та Наслідки:",
        feature5Text: "Гравцю доведеться робити важкі моральні вибори, які впливатимуть на розвиток сюжету, долю персонажів та, що найважливіше, на рівень \"Волі\" — ключової внутрішньої сили, яка веде до доленосного фіналу. Ваші рішення, зроблені на початкових етапах гри, вплинуть на кульмінацію тисячолітньої боротьби.",
        heroesHeading: "Наші Герої: Від Предків до Нащадків",
        heroOlesDescription: "Олесь (\"Козак\") — сучасний воїн, що несе на собі тисячоліття боротьби за Волю.",
        learnMoreOles: "Дізнатися більше про Олеся",
        heroZoryanaDescription: "Зоряна — трипілька, чиє серце вперше відчуло невідомий поклик Волі, що з'єднав покоління.",
        learnMoreZoryana: "Дізнатися більше про Зоряну",
        heroArgisDescription: "Аргіс — скіфський воїн, що втілює дух свободи та безмежного степу.",
        learnMoreArgis: "Дізнатися більше про Аргіса",
        heroRadymDescription: "Радим — слов'янський гончар-дипломат, що згуртував народ у боротьбі з кочовиками.",
        learnMoreRadym: "Дізнатися більше про Радима",
        heroVolodymyrDescription: "Володимир — воїн Київської Русі, що стояв на захисті хрещеної землі та нової віри.",
        learnMoreVolodymyr: "Дізнатися більше про Володимира",
        heroMyroslavDescription: "Мирослав — воїн-дипломат Київської Русі, що об'єднував князів перед лицем спільної загрози.",
        learnMoreMyroslav: "Дізнатися більше про Мирослава",
        heroSviatoslavDescription: "Святослав — непереможний богатир, що уособлював незламний дух Русі перед монгольською навалою.",
        learnMoreSviatoslav: "Дізнатися більше про Святослава",
        heroIvanDescription: "Іван — звичайний козак доби Сагайдачного, втілення незламної волі до свободи.",
        learnMoreIvan: "Дізнатися більше про Івана",
        heroOrestDescription: "Орест — мудрий полковник-розвідник, що боровся за єдність України під час Руїни.",
        learnMoreOrest: "Дізнатися більше про Ореста",
        heroKalynaDescription: "Калина — простий повстанець УПА, втілення вікової, незламної Волі українського народу.",
        learnMoreKalyna: "Дізнатися більше про Калину",
        heroesSummary: "Кожен герой — це пращур Олеся, втілення унікального аспекту \"Волі\" та носій автентичних геймплейних механік. Через їхні долі гравець переживе багатовікову історію незламного духу українського народу.",
        erasHeading: "Епохи \"ВОЛІ\": Подорож Крізь Тисячоліття",
        erasIntro: "Зануртесь у тисячоліття боротьби українського народу, що розгортатиметься через **докорінно різні, але взаємопов'язані історичні епохи**. Кожна доба — це унікальний ігровий світ, що пропонує нові виклики, персонажів та можливості. Ми плануємо поступово відкривати для вас такі періоди, як Трипілля, Скіфська Доба, Давні Слов'яни, Київська Русь, Козацька Доба, XX століття (Визвольна Боротьба) та героїчна Сучасність.",
        erasSummary: "Кожна епоха є важливою главою у великій сазі \"ВОЛІ\", де минуле формує сьогодення, а дії кожного предка відгукуються у фінальному протистоянні за Волю нації. Більш детальна інформація про послідовність виходу та вміст епох буде представлена в нашій <a href=\"roadmap.html\" data-translate-highlight=\"linkToRoadmap\">Дорожній Карті</a>.",
        linkToRoadmap: "Дорожній Карті", // Для тексту всередині посилання в Eras
        mechanicsHeading: "Механіка \"Волі\" та Дипломатія",
        mechanicsIntro: "Ключовою особливістю гри є механіка ВОЛІ — це інтегрована частина геймплею, що відображає внутрішню силу, рішучість та незламність духу героїв, впливаючи на сюжет та взаємодії.",
        volyaHighlight2: "ВОЛІ", // Для тексту всередині highlight спану
        mechanicsPoint1: "**Вплив на Діалоги:** Накопичена \"Воля\" може розблоковувати унікальні діалогові опції, дозволяючи переконувати NPC, змінювати їхнє ставлення та впливати на хід подій.",
        mechanicsPoint2: "**Дипломатична Перевага:** \"Воля\" надає перевагу в переговорах, допомагає знаходити компроміси та мирні вирішення конфліктів, що є критично важливим для багатьох історичних сценаріїв.",
        mechanicsPoint3: "**Кульмінація Сюжету:** Рівень накопиченої \"Волі\" протягом усіх епох безпосередньо вплине на фінал гри, дозволяючи Олесю закликати духовних провідників та мудреців з минулого для вирішального протистояння.",
        teamHeading: "Наша Команда: Створюючи Майбутнє Ігор",
        teamText1: "Ми — команда інноваторів та ентузіастів, об'єднаних спільною мрією: створити гру, яка не лише розважатиме, а й змінить уявлення про наративні ігри, розповівши світові про незламний дух та багатовікову історію України.",
        teamText2: "Наразі ми активно шукаємо талановитих фахівців, що готові прийняти виклик розробки гри з проривними ШІ-технологіями та глибоким змістом. Якщо ви маєте пристрасть до ігор, історії, інновацій та вірите у силу українського духу, ми запрошуємо вас приєднатися до створення чогось справді великого!",
        ctaHeading: "Стань частиною \"ВОЛІ\"!",
        ctaText: "Приєднуйся до команди розробників, ШІ-спеціалістів, художників, сценаристів, істориків чи інвесторів. Разом ми створимо гру, що назавжди закарбує ім'я України в ігровій індустрії та встановить нові стандарти занурення.",
        ctaButton: "Переглянути Вакансії",
        ctaOrContact: "або зв'яжіться з нами напряму:",

        // RoadMap Specific Translations
        roadmapPageTitle: "Дорожня карта \"ВОЛІ\" — Епічна Історична Гра",
        roadmapMainHeading: "Дорожня карта Проєкту \"ВОЛЯ\"",
        roadmapSubtitle: "Наш план розвитку гри: від ранніх епох до майбутніх звершень.",
        roadmapEarlyAccess: "Ранній Доступ та Перші Епохи",
        altScythiansImage: "Епоха Скіфів",
        roadmapScythiansTitle: "Епоха Скіфів: \"Шлях Воїна\"",
        roadmapScythiansDescription: "Перший модуль гри, що занурить гравців у світ скіфських племен. Лінійний сюжет, дослідження степу, перші механіки бою та діалогів.",
        scythiansFeature1: "Дослідження світу скіфів.",
        scythiansFeature2: "Початкова бойова система.",
        scythiansFeature3: "Зародження механіки \"Волі\".",
        scythiansFeature4: "Перші сюжетні лінії та персонажі.",
        statusInProgress: "В розробці",
        altKyivanRusImage: "Епоха Київської Русі",
        roadmapKyivanRusTitle: "Епоха Київської Русі: \"Земля Героїв\"",
        roadmapKyivanRusDescription: "Розширення ігрового світу до часів Київської Русі. Нові персонажі, складніша політична система, елементи дипломатії та масштабні битви.",
        kyivanRusFeature1: "Величні міста Київської Русі.",
        kyivanRusFeature2: "Розширена бойова система з облогою міст.",
        kyivanRusFeature3: "Розвиток механіки \"Волі\" через політичні рішення.",
        kyivanRusFeature4: "Інтеграція історичних подій та постатей.",
        statusPlanned: "Заплановано",
        altCossackImage: "Козацька Доба",
        roadmapCossackTitle: "Козацька Доба: \"Вільний Дух\"",
        roadmapCossackDescription: "Епоха козацтва, боротьба за незалежність, степові походи, морські авантюри та розвиток особистості головного героя через випробування.",
        cossackFeature1: "Великі козацькі січі та битви.",
        cossackFeature2: "Морські подорожі та козацькі чайки.",
        cossackFeature3: "Глибока система розвитку персонажа та навичок.",
        cossackFeature4: "Вплив \"Волі\" на лідерські якості та авторитет.",
        alt20thCenturyImage: "XX Століття (Визвольна Боротьба)",
        roadmap20thCenturyTitle: "XX Століття: \"Шлях до Незалежності\"",
        roadmap20thCenturyDescription: "Період визвольних змагань, світових воєн, боротьби за самовизначення та складних моральних виборів, що формують сучасну Україну.",
        century20thFeature1: "Участь у ключових історичних подіях XX століття.",
        century20thFeature2: "Сучасні види зброї та тактики бою (відповідно до епохи).",
        century20thFeature3: "Моральні дилеми та їхній вплив на рівень \"Волі\".",
        century20thFeature4: "Зустріч з видатними постатями епохи.",
        altModernEraImage: "Сучасність",
        roadmapModernEraTitle: "Сучасність: \"Загартована Воля\"",
        roadmapModernEraDescription: "Фінальна епоха, де гравець у ролі сучасного воїна використовує знання та \"Волю\", накопичену предками, у вирішальній битві за майбутнє України.",
        modernEraFeature1: "Сучасні бойові дії та технології.",
        modernEraFeature2: "Використання механіки \"Волі\" для стратегічних переваг.",
        modernEraFeature3: "Зустріч з відголосками минулих епох.",
        modernEraFeature4: "Кілька можливих фіналів, залежно від накопиченої \"Волі\".",
        roadmapUpdatesTitle: "Оновлення та Додатковий Контент",
        roadmapUpdatesText: "Після виходу основних епох ми плануємо регулярно випускати оновлення, що включатимуть нові квести, персонажів, ігрові механіки та, можливо, навіть додаткові історичні періоди, ґрунтуючись на відгуках спільноти та наших дослідженнях.",
        roadmapBackToMain: "← Повернутися на головну сторінку",
        footerText: "&copy; 2025 Проєкт \"ВОЛЯ\". Всі права захищені.",
    },
    en: {
        pageTitle: "VOLYA — Epic Historical Game",
        mainHeading: "VOLYA",
        heroSubtitle: "One soul. One nation. <br />The history of Ukraine through the eyes of its warriors.<br/>An Epic Action-Adventure game.",
        linkToRoadmapMainPage: "View Roadmap",
        aboutHeading: "Project \"VOLYA\": An Epic Saga Unfolding",
        aboutText1: "VOLYA is an ambitious 3D Action-Adventure project that invites you to experience a millennium of the Ukrainian people's struggle for their freedom. It's not just a game; it's an emotional saga about the unbreakable bond between generations, where the player embodies key ancestors of the main character — a modern Ukrainian warrior.",
        aboutText2: "We are creating \"VOLYA\" based on a **modular principle**, allowing us to constantly develop the game, expand its worlds, and add unique mechanics, relying on your feedback. Our goal is to offer a deep, educational, and emotionally rich experience where every choice matters, and history comes alive through advanced technologies.",
        volyaHighlight1: "VOLYA",
        featuresHeading: "Key Features and Innovations",
        feature1Title: "Revolutionary AI Dialogues:",
        feature1Highlight: "Revolutionary AI Dialogues:",
        feature1Text: "Our main innovation is the integration of an advanced AI-based dialogue system. This will allow players to conduct **deep and dynamic dialogues with key characters** using natural language, significantly expanding interaction possibilities. We are implementing this mechanic **gradually**, allowing you to experience its evolution along with the game.",
        feature2Title: "The \"Volya\" Mechanic:",
        feature2Highlight: "The \"Volya\" Mechanic:",
        feature2Text: "A key feature reflecting the inner strength and indomitable spirit of the heroes. \"Volya\" accumulates through your decisions, influences diplomacy and dialogues, and has a direct impact on the game's ending. This mechanic is closely intertwined with AI dialogues, allowing you to feel the **real consequences of your words and actions**.",
        feature3Title: "Dynamic Canon and Development:",
        feature3Highlight: "Dynamic Canon and Development:",
        feature3Text: "We believe in a **\"living canon\"**: the game will be constantly updated and improved. Your favorite characters can evolve, and plotlines can be deepened or even reinterpreted to provide the most exciting and historically immersive experience. Each new version of the game we release will be considered canonical.",
        finalVersionCanonicalHighlight: "Each new version of the game we release will be considered canonical.",
        feature4Title: "Gameplay Evolution:",
        feature4Highlight: "Gameplay Evolution:",
        feature4Text: "Each module will introduce new gameplay mechanics: from peaceful construction and survival, through a complex combat system and strategic planning, to stealth, deep diplomacy, and intense modern action. This creates constant dynamics and keeps the player engaged, adapting to historical realities.",
        feature5Title: "Multi-level Moral Choices and Consequences:",
        feature5Highlight: "Multi-level Moral Choices and Consequences:",
        feature5Text: "The player will have to make difficult moral choices that will affect the plot's development, the fate of characters, and, most importantly, the level of \"Volya\" — a key inner strength that leads to a fateful ending. Your decisions made in the early stages of the game will influence the culmination of a millennium-long struggle.",
        heroesHeading: "Our Heroes: From Ancestors to Descendants",
        heroOlesDescription: "Oles (\"Cossack\") — a modern warrior carrying a millennium of struggle for Volya.",
        learnMoreOles: "Learn more about Oles",
        heroZoryanaDescription: "Zoryana — a Trypillian whose heart first felt the unknown call of Volya, connecting generations.",
        learnMoreZoryana: "Learn more about Zoryana",
        heroArgisDescription: "Argis — a Scythian warrior embodying the spirit of freedom and the boundless steppe.",
        learnMoreArgis: "Learn more about Argis",
        heroRadymDescription: "Radym — a Slavic potter-diplomat who united the people in the fight against nomads.",
        learnMoreRadym: "Learn more about Radym",
        heroVolodymyrDescription: "Volodymyr — a warrior of Kyivan Rus' who stood in defense of the baptized land and the new faith.",
        learnMoreVolodymyr: "Learn more about Volodymyr",
        heroMyroslavDescription: "Myroslav — a warrior-diplomat of Kyivan Rus' who united princes in the face of a common threat.",
        learnMoreMyroslav: "Learn more about Myroslav",
        heroSviatoslavDescription: "Sviatoslav — an invincible bogatyr who personified the unbreakable spirit of Rus' against the Mongol invasion.",
        learnMoreSviatoslav: "Learn more about Sviatoslav",
        heroIvanDescription: "Ivan — an ordinary Cossack of Sahaidachny's era, the embodiment of an unbreakable will for freedom.",
        learnMoreIvan: "Learn more about Ivan",
        heroOrestDescription: "Orest — a wise colonel-scout who fought for the unity of Ukraine during the Ruin.",
        learnMoreOrest: "Learn more about Orest",
        heroKalynaDescription: "Kalyna — a simple UPA insurgent, the embodiment of the age-old, unbreakable Volya of the Ukrainian people.",
        learnMoreKalyna: "Learn more about Kalyna",
        heroesSummary: "Each hero is an ancestor of Oles, an embodiment of a unique aspect of \"Volya\" and a carrier of authentic gameplay mechanics. Through their fates, the player will experience the centuries-old history of the indomitable spirit of the Ukrainian people.",
        erasHeading: "Eras of \"VOLYA\": A Journey Through Millennia",
        erasIntro: "Immerse yourself in a millennium of struggle by the Ukrainian people, unfolding through **fundamentally different yet interconnected historical eras**. Each epoch is a unique game world offering new challenges, characters, and opportunities. We plan to gradually unveil periods such as Trypillia, the Scythian Era, Ancient Slavs, Kyivan Rus', the Cossack Era, the 20th century (Liberation Struggle), and the heroic Modern Day.",
        erasSummary: "Each era is an important chapter in the grand saga of \"VOLYA,\" where the past shapes the present, and the actions of each ancestor echo in the final confrontation for the nation's Will. More detailed information about the release sequence and content of the eras will be presented in our <a href=\"roadmap.html\" data-translate-highlight=\"linkToRoadmap\">Roadmap</a>.",
        linkToRoadmap: "Roadmap", // For text inside the link in Eras
        mechanicsHeading: "The \"Volya\" Mechanic and Diplomacy",
        mechanicsIntro: "A key feature of the game is the \"Volya\" mechanic — an integrated part of the gameplay that reflects the inner strength, determination, and indomitable spirit of the heroes, influencing the plot and interactions.",
        volyaHighlight2: "Volya", // For text inside highlight span
        mechanicsPoint1: "**Impact on Dialogues:** Accumulated \"Volya\" can unlock unique dialogue options, allowing you to persuade NPCs, change their attitude, and influence the course of events.",
        mechanicsPoint2: "**Diplomatic Advantage:** \"Volya\" provides an advantage in negotiations, helps find compromises and peaceful resolutions to conflicts, which is critically important for many historical scenarios.",
        mechanicsPoint3: "**Climax of the Story:** The level of accumulated \"Volya\" throughout all eras will directly affect the game's ending, allowing Oles to summon spiritual guides and sages from the past for the decisive confrontation.",
        teamHeading: "Our Team: Creating the Future of Gaming",
        teamText1: "We are a team of innovators and enthusiasts united by a common dream: to create a game that will not only entertain but also change the perception of narrative games, telling the world about the unbreakable spirit and centuries-old history of Ukraine.",
        teamText2: "We are currently actively looking for talented professionals ready to take on the challenge of developing a game with groundbreaking AI technologies and deep meaning. If you have a passion for games, history, innovation, and believe in the power of the Ukrainian spirit, we invite you to join us in creating something truly great!",
        ctaHeading: "Be a part of \"VOLYA\"!",
        ctaText: "Join the team of developers, AI specialists, artists, screenwriters, historians, or investors. Together, we will create a game that will forever etch Ukraine's name in the gaming industry and set new standards for immersion.",
        ctaButton: "View Vacancies",
        ctaOrContact: "or contact us directly:",

        // RoadMap Specific Translations
        roadmapPageTitle: "VOLYA Roadmap — Epic Historical Game",
        roadmapMainHeading: "VOLYA Project Roadmap",
        roadmapSubtitle: "Our development plan: from early eras to future achievements.",
        roadmapEarlyAccess: "Early Access and First Eras",
        altScythiansImage: "Scythian Era",
        roadmapScythiansTitle: "Scythian Era: \"Warrior's Path\"",
        roadmapScythiansDescription: "The first game module that will immerse players in the world of Scythian tribes. Linear plot, steppe exploration, initial combat and dialogue mechanics.",
        scythiansFeature1: "Exploration of the Scythian world.",
        scythiansFeature2: "Initial combat system.",
        scythiansFeature3: "The beginning of the \"Volya\" mechanic.",
        scythiansFeature4: "First story lines and characters.",
        statusInProgress: "In Progress",
        altKyivanRusImage: "Kievan Rus' Era",
        roadmapKyivanRusTitle: "Kievan Rus' Era: \"Land of Heroes\"",
        roadmapKyivanRusDescription: "Expansion of the game world to the times of Kievan Rus'. New characters, a more complex political system, elements of diplomacy, and large-scale battles.",
        kyivanRusFeature1: "Magnificent cities of Kievan Rus'.",
        kyivanRusFeature2: "Expanded combat system with city sieges.",
        kyivanRusFeature3: "Development of the \"Volya\" mechanic through political decisions.",
        kyivanRusFeature4: "Integration of historical events and figures.",
        statusPlanned: "Planned",
        altCossackImage: "Cossack Era",
        roadmapCossackTitle: "Cossack Era: \"Free Spirit\"",
        roadmapCossackDescription: "The Cossack era, the struggle for independence, steppe campaigns, naval adventures, and the development of the main character's personality through trials.",
        cossackFeature1: "Large Cossack Sich and battles.",
        cossackFeature2: "Sea voyages and Cossack chaikas.",
        cossackFeature3: "Deep character and skill development system.",
        cossackFeature4: "Influence of \"Volya\" on leadership qualities and authority.",
        alt20thCenturyImage: "20th Century (Liberation Struggle)",
        roadmap20thCenturyTitle: "20th Century: \"Path to Independence\"",
        roadmap20thCenturyDescription: "The period of liberation movements, world wars, the struggle for self-determination, and complex moral choices that shaped modern Ukraine.",
        century20thFeature1: "Participation in key historical events of the 20th century.",
        century20thFeature2: "Modern types of weapons and combat tactics (according to the era).",
        century20thFeature3: "Moral dilemmas and their impact on the level of \"Volya\".",
        century20thFeature4: "Meeting with prominent figures of the era.",
        altModernEraImage: "Modern Era",
        roadmapModernEraTitle: "Modern Era: \"Tempered Will\"",
        roadmapModernEraDescription: "The final era, where the player as a modern warrior uses the knowledge and \"Volya\" accumulated by ancestors in the decisive battle for the future of Ukraine.",
        modernEraFeature1: "Modern combat operations and technologies.",
        modernEraFeature2: "Using the \"Volya\" mechanic for strategic advantages.",
        modernEraFeature3: "Encountering echoes of past eras.",
        modernEraFeature4: "Multiple possible endings, depending on the accumulated \"Volya\".",
        roadmapUpdatesTitle: "Updates and Additional Content",
        roadmapUpdatesText: "After the release of the main eras, we plan to regularly release updates that will include new quests, characters, game mechanics, and possibly even additional historical periods, based on community feedback and our research.",
        roadmapBackToMain: "← Back to main page",
        footerText: "&copy; 2025 Project \"VOLYA\". All rights reserved.",
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const langButtons = document.querySelectorAll('.language-switcher button');
    const storedLang = localStorage.getItem('lang') || 'uk'; // Default to 'uk' if no language is stored

    const applyTranslations = (lang) => {
        // Translate elements with data-translate attribute
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });

        // Translate elements with data-translate-highlight attribute
        // This handles cases where only a part of the text within an element is highlighted
        document.querySelectorAll('[data-translate-highlight]').forEach(element => {
            const key = element.getAttribute('data-translate-highlight');
            if (translations[lang] && translations[lang][key]) {
                // For elements like <span> within <p> or <h3> that need their text content translated
                element.textContent = translations[lang][key];
            }
        });

        // Translate alt attributes for images
        document.querySelectorAll('img[data-translate]').forEach(img => {
            const key = img.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                img.setAttribute('alt', translations[lang][key]);
            }
        });

        // Specifically handle links in the 'erasSummary' section which have inner HTML
        const erasSummaryElement = document.querySelector('[data-translate="erasSummary"]');
        if (erasSummaryElement && translations[lang] && translations[lang].erasSummary) {
            // We need to re-insert the HTML for the link, translating only the text content.
            // This is a more robust way to handle innerHTML with translations.
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = translations[lang].erasSummary;
            // Find the <a> tag within this temporary div and update its text content
            const linkInSummary = tempDiv.querySelector('a[data-translate-highlight="linkToRoadmap"]');
            if (linkInSummary && translations[lang].linkToRoadmap) {
                linkInSummary.textContent = translations[lang].linkToRoadmap;
            }
            erasSummaryElement.innerHTML = tempDiv.innerHTML;
        }

        // Translate the "Переглянути Дорожню Карту" button on the main page
        const roadmapButtonMain = document.querySelector('.main-cta-button[data-translate="linkToRoadmapMainPage"]');
        if (roadmapButtonMain && translations[lang] && translations[lang]['linkToRoadmapMainPage']) {
            roadmapButtonMain.textContent = translations[lang]['linkToRoadmapMainPage'];
        }

        // Translate the "Повернутися на головну сторінку" button on the roadmap page
        const backToMainButton = document.querySelector('.main-cta-button[data-translate="roadmapBackToMain"]');
        if (backToMainButton && translations[lang] && translations[lang]['roadmapBackToMain']) {
            backToMainButton.textContent = translations[lang]['roadmapBackToMain'];
        }
    };

    // Set initial language
    applyTranslations(storedLang);

    // Add event listeners to language buttons
    langButtons.forEach(button => {
        button.addEventListener('click', () => {
            const lang = button.dataset.lang;
            localStorage.setItem('lang', lang);
            applyTranslations(lang);
        });
    });
});
